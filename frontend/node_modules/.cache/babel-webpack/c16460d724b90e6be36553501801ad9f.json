{"ast":null,"code":"import _classCallCheck from \"/Users/adepertat/Dropbox/ECOLES/Openclassroom/P6_de_Pertat_Antoine/AntoinedePertat_6_240521/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adepertat/Dropbox/ECOLES/Openclassroom/P6_de_Pertat_Antoine/AntoinedePertat_6_240521/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/adepertat/Dropbox/ECOLES/Openclassroom/P6_de_Pertat_Antoine/AntoinedePertat_6_240521/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _get from \"/Users/adepertat/Dropbox/ECOLES/Openclassroom/P6_de_Pertat_Antoine/AntoinedePertat_6_240521/frontend/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/Users/adepertat/Dropbox/ECOLES/Openclassroom/P6_de_Pertat_Antoine/AntoinedePertat_6_240521/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/adepertat/Dropbox/ECOLES/Openclassroom/P6_de_Pertat_Antoine/AntoinedePertat_6_240521/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/adepertat/Dropbox/ECOLES/Openclassroom/P6_de_Pertat_Antoine/AntoinedePertat_6_240521/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nexport var Subscriber = /*#__PURE__*/function (_Subscription) {\n  _inherits(Subscriber, _Subscription);\n\n  var _super = _createSuper(Subscriber);\n\n  function Subscriber(destination) {\n    var _this;\n\n    _classCallCheck(this, Subscriber);\n\n    _this = _super.call(this);\n    _this.isStopped = false;\n\n    if (destination) {\n      _this.destination = destination;\n\n      if (isSubscription(destination)) {\n        destination.add(_assertThisInitialized(_this));\n      }\n    } else {\n      _this.destination = EMPTY_OBSERVER;\n    }\n\n    return _this;\n  }\n\n  _createClass(Subscriber, [{\n    key: \"next\",\n    value: function next(value) {\n      if (this.isStopped) {\n        handleStoppedNotification(nextNotification(value), this);\n      } else {\n        this._next(value);\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error(err) {\n      if (this.isStopped) {\n        handleStoppedNotification(errorNotification(err), this);\n      } else {\n        this.isStopped = true;\n\n        this._error(err);\n      }\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      if (this.isStopped) {\n        handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n      } else {\n        this.isStopped = true;\n\n        this._complete();\n      }\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      if (!this.closed) {\n        this.isStopped = true;\n\n        _get(_getPrototypeOf(Subscriber.prototype), \"unsubscribe\", this).call(this);\n\n        this.destination = null;\n      }\n    }\n  }, {\n    key: \"_next\",\n    value: function _next(value) {\n      this.destination.next(value);\n    }\n  }, {\n    key: \"_error\",\n    value: function _error(err) {\n      try {\n        this.destination.error(err);\n      } finally {\n        this.unsubscribe();\n      }\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      try {\n        this.destination.complete();\n      } finally {\n        this.unsubscribe();\n      }\n    }\n  }], [{\n    key: \"create\",\n    value: function create(next, error, complete) {\n      return new SafeSubscriber(next, error, complete);\n    }\n  }]);\n\n  return Subscriber;\n}(Subscription);\nexport var SafeSubscriber = /*#__PURE__*/function (_Subscriber) {\n  _inherits(SafeSubscriber, _Subscriber);\n\n  var _super2 = _createSuper(SafeSubscriber);\n\n  function SafeSubscriber(observerOrNext, error, complete) {\n    var _this2;\n\n    _classCallCheck(this, SafeSubscriber);\n\n    _this2 = _super2.call(this);\n    var next;\n\n    if (isFunction(observerOrNext)) {\n      next = observerOrNext;\n    } else if (observerOrNext) {\n      next = observerOrNext.next;\n      error = observerOrNext.error;\n      complete = observerOrNext.complete;\n      var context;\n\n      if (_assertThisInitialized(_this2) && config.useDeprecatedNextContext) {\n        context = Object.create(observerOrNext);\n\n        context.unsubscribe = function () {\n          return _this2.unsubscribe();\n        };\n      } else {\n        context = observerOrNext;\n      }\n\n      next = next === null || next === void 0 ? void 0 : next.bind(context);\n      error = error === null || error === void 0 ? void 0 : error.bind(context);\n      complete = complete === null || complete === void 0 ? void 0 : complete.bind(context);\n    }\n\n    _this2.destination = {\n      next: next ? wrapForErrorHandling(next, _assertThisInitialized(_this2)) : noop,\n      error: wrapForErrorHandling(error !== null && error !== void 0 ? error : defaultErrorHandler, _assertThisInitialized(_this2)),\n      complete: complete ? wrapForErrorHandling(complete, _assertThisInitialized(_this2)) : noop\n    };\n    return _this2;\n  }\n\n  return SafeSubscriber;\n}(Subscriber);\n\nfunction wrapForErrorHandling(handler, instance) {\n  return function () {\n    try {\n      handler.apply(void 0, arguments);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        if (instance._syncErrorHack_isSubscribing) {\n          instance.__syncError = err;\n        } else {\n          throw err;\n        }\n      } else {\n        reportUnhandledError(err);\n      }\n    }\n  };\n}\n\nfunction defaultErrorHandler(err) {\n  throw err;\n}\n\nfunction handleStoppedNotification(notification, subscriber) {\n  var onStoppedNotification = config.onStoppedNotification;\n  onStoppedNotification && timeoutProvider.setTimeout(function () {\n    return onStoppedNotification(notification, subscriber);\n  });\n}\n\nexport var EMPTY_OBSERVER = {\n  closed: true,\n  next: noop,\n  error: defaultErrorHandler,\n  complete: noop\n}; //# sourceMappingURL=Subscriber.js.map","map":{"version":3,"sources":["/Users/adepertat/Dropbox/ECOLES/Openclassroom/P6_de_Pertat_Antoine/AntoinedePertat_6_240521/frontend/node_modules/rxjs/dist/esm/internal/Subscriber.js"],"names":["isFunction","isSubscription","Subscription","config","reportUnhandledError","noop","nextNotification","errorNotification","COMPLETE_NOTIFICATION","timeoutProvider","Subscriber","destination","isStopped","add","EMPTY_OBSERVER","value","handleStoppedNotification","_next","err","_error","_complete","closed","next","error","unsubscribe","complete","SafeSubscriber","observerOrNext","context","useDeprecatedNextContext","Object","create","bind","wrapForErrorHandling","defaultErrorHandler","handler","instance","useDeprecatedSynchronousErrorHandling","_syncErrorHack_isSubscribing","__syncError","notification","subscriber","onStoppedNotification","setTimeout"],"mappings":"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","sourcesContent":["import { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nexport class Subscriber extends Subscription {\n    constructor(destination) {\n        super();\n        this.isStopped = false;\n        if (destination) {\n            this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(this);\n            }\n        }\n        else {\n            this.destination = EMPTY_OBSERVER;\n        }\n    }\n    static create(next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    }\n    next(value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    }\n    error(err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    }\n    complete() {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            this.isStopped = true;\n            super.unsubscribe();\n            this.destination = null;\n        }\n    }\n    _next(value) {\n        this.destination.next(value);\n    }\n    _error(err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n    _complete() {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    }\n}\nexport class SafeSubscriber extends Subscriber {\n    constructor(observerOrNext, error, complete) {\n        super();\n        let next;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            ({ next, error, complete } = observerOrNext);\n            let context;\n            if (this && config.useDeprecatedNextContext) {\n                context = Object.create(observerOrNext);\n                context.unsubscribe = () => this.unsubscribe();\n            }\n            else {\n                context = observerOrNext;\n            }\n            next = next === null || next === void 0 ? void 0 : next.bind(context);\n            error = error === null || error === void 0 ? void 0 : error.bind(context);\n            complete = complete === null || complete === void 0 ? void 0 : complete.bind(context);\n        }\n        this.destination = {\n            next: next ? wrapForErrorHandling(next, this) : noop,\n            error: wrapForErrorHandling(error !== null && error !== void 0 ? error : defaultErrorHandler, this),\n            complete: complete ? wrapForErrorHandling(complete, this) : noop,\n        };\n    }\n}\nfunction wrapForErrorHandling(handler, instance) {\n    return (...args) => {\n        try {\n            handler(...args);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                if (instance._syncErrorHack_isSubscribing) {\n                    instance.__syncError = err;\n                }\n                else {\n                    throw err;\n                }\n            }\n            else {\n                reportUnhandledError(err);\n            }\n        }\n    };\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    const { onStoppedNotification } = config;\n    onStoppedNotification && timeoutProvider.setTimeout(() => onStoppedNotification(notification, subscriber));\n}\nexport const EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map"]},"metadata":{},"sourceType":"module"}